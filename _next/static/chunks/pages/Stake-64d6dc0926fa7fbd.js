(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[962],{9704:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Stake",function(){return s(6222)}])},6222:function(e,a,s){"use strict";s.r(a);var n=s(5893),l=s(7294),t=s(6154),r=s(318),i=s.n(r);s(7134);var o=s(3564),d=s(2136),c=s(3750),u=s(8680),m=s(8111),h=s(8790),v=s(2593),g=s(5553),x=s(5898),f=s(2920),y=s(5119);let p=()=>{let[e,a]=(0,l.useState)(),[s,r]=(0,l.useState)(),[p,j]=(0,l.useState)(),[N,k]=(0,l.useState)(),[I,S]=(0,l.useState)(),[O,w]=(0,l.useState)(),[C,A]=(0,l.useState)({corai:!0,ncorai:!0}),{account:T}=(0,d.O)(),[F,E]=(0,l.useState)(v.O$.from(0)),[_,P]=(0,l.useState)("false"),{refreshState:R,setRefreshState:B}=(0,y.Lx)(),[V,H]=(0,l.useState)(v.O$.from(0)),[$,Z]=(0,l.useState)([v.O$.from(0)]),[b,L]=(0,l.useState)([v.O$.from(0)]),[D,X]=(0,l.useState)(v.O$.from(0)),[z,W]=(0,l.useState)(v.O$.from(0)),[U,Y]=(0,l.useState)([v.O$.from(0)]),[q,G]=(0,l.useState)(v.O$.from(0)),[J,K]=(0,l.useState)("false");(0,l.useRef)(!1);let M=()=>{"false"==J?K("true"):K("false")},Q=async()=>{let e=!C.corai,a={ncorai:C.ncorai,corai:e};A(a)},ee=async()=>{let e=!C.ncorai,a={corai:C.corai,ncorai:e};A(a)};(0,l.useEffect)(()=>{if(e){let a=e.filter(e=>"CORAI"==e.rewardTokenName),s=e.filter(e=>"NCORAI"==e.rewardTokenName);r(a),j(s),console.log(a,s)}},[e]),(0,l.useEffect)(()=>{if(O){console.log(O);let e=O.filter(e=>"CORAI"==e.poolId.rewardTokenName),a=O.filter(e=>"NCORAI"==e.poolId.rewardTokenName);k(e),S(a),console.log(e,a)}},[O]),(0,l.useEffect)(()=>{let e=async()=>{var e;let s,n;let l=null==T?void 0:null===(e=T.network)||void 0===e?void 0:e.id;if(l){console.log(s=await (0,t.Z)({method:"get",url:"/api/IDO/getLockedStaking?chainId=".concat(l),headers:{"Content-Type":"application/json"}})),a(s.data);try{if(!(null==T?void 0:T.signer))return;n=await (0,t.Z)({method:"get",url:"/api/IDO/getLockedStakingWallet?address=".concat(await (null==T?void 0:T.signer.getAddress()),"&chainId=").concat(l),headers:{"Content-Type":"application/json"}}),console.log(n),w(n.data)}catch(e){console.error(e)}}},s=async()=>{var e,a;if(!(null==T?void 0:T.signer))return;let s=u.iX[null==T?void 0:null===(e=T.network)||void 0===e?void 0:e.id],n=u.sz[null==T?void 0:null===(a=T.network)||void 0===a?void 0:a.id];if(!s)return;let l=h.w6.connect(s,null==T?void 0:T.signer),t=null==T?void 0:T.signer.getAddress(),r=await l.balanceOf(t);if(!n)return;let i=await l.allowance(t,n);H(i),E(r)};e(),s()},[null==T?void 0:T.signer,R,null==T?void 0:T.network]);let ea=async()=>{let e=$.reduce((e,a)=>e.add(a)),a=b.reduce((e,a)=>e.add(a)),s=U.reduce((e,a)=>e.add(a));X(e),W(a),G(s)};return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:i().container,children:[(0,n.jsx)(f.Ix,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,n.jsx)("div",{className:i().upperStaking,id:"topStaking",children:(0,n.jsxs)("div",{className:i().upperWrapper,children:[(0,n.jsxs)("div",{className:i().headingOuter,children:[(0,n.jsxs)("div",{className:i().headingoutIn,children:[(0,n.jsx)("div",{className:i().Heading,style:o.primaryFont.style,children:"Staking Info"}),(0,n.jsx)("div",{className:i().subHeading,style:o.secondaryFont.style,children:"NeoCortexAI Staking Platform"})]}),(0,n.jsx)("div",{className:i().ninetyHeading,children:"90\xa0Days Staking"})]}),(0,n.jsxs)("div",{className:i().summary,children:[(0,n.jsxs)("div",{className:i().summaryInner,children:[(0,n.jsx)("div",{className:i().summaryInnerHead,style:o.secondaryFont.style,children:"Balance Amount(CORAI)"}),(0,n.jsx)("div",{className:i().summaryInnerVal,children:parseFloat(g.formatEther(F)).toFixed(3)})]}),(0,n.jsxs)("div",{className:i().summaryInner,children:[(0,n.jsx)("div",{className:i().summaryInnerHead,style:o.secondaryFont.style,children:"Your Total Staked"}),(0,n.jsxs)("div",{className:i().summaryInnerVal,children:[g.formatEther(D),(0,n.jsx)("span",{children:" CORAI"})]})]}),(0,n.jsxs)("div",{className:i().summaryInner,children:[(0,n.jsx)("div",{className:i().summaryInnerHead,style:o.secondaryFont.style,children:"TVL"}),(0,n.jsxs)("div",{className:i().summaryInnerVal,children:[parseFloat(g.formatEther(q)).toFixed(2),(0,n.jsx)("span",{children:" CORAI"})]})]}),(0,n.jsxs)("div",{className:i().summaryInner,children:[(0,n.jsx)("div",{className:i().summaryInnerHead,style:o.secondaryFont.style,children:"Pending Rewards"}),(0,n.jsxs)("div",{className:i().summaryInnerVal,children:[parseFloat(g.formatEther(z)).toFixed(3)," ",(0,n.jsx)("span",{children:" CORAI"})]})]})]})]})}),(0,n.jsx)("div",{className:i().TokenToggleContainer,children:(0,n.jsxs)("div",{className:i().TokenToggleContainerInner,children:[(0,n.jsx)("div",{onClick:Q,className:i().TokenToggleButton,"data-selected":C.corai,style:o.secondaryFont.style,children:"Corai"}),(0,n.jsx)("div",{onClick:ee,className:i().TokenToggleButton,"data-selected":C.ncorai,style:o.secondaryFont.style,children:"nCorai"})]})}),(0,n.jsxs)("div",{className:i().lowerStaking,children:[!0==C.corai&&N&&N.length>0&&N.map((e,a)=>(0,n.jsx)(x.Z,{Pool:e,index:a,AddValues:ea,rewardAmounts:b,Balance:F,stakedAmounts:$},a)),!0==C.ncorai&&I&&I.length>0&&I.map((e,a)=>(0,n.jsx)(x.Z,{Pool:e,index:a,AddValues:ea,rewardAmounts:b,Balance:F,stakedAmounts:$},a)),!0==C.corai&&(null==s?void 0:s.length)>0&&(null==s?void 0:s.map((e,a)=>(0,n.jsx)(m.Z,{Pool:e,Balance:F,index:a,userStakes:U,AddValues:ea},a))),!0==C.ncorai&&((null==p?void 0:p.length)>0?null==p?void 0:p.map((e,a)=>(0,n.jsx)(m.Z,{Pool:e,Balance:F,index:a,userStakes:U,AddValues:ea},a)):!1==C.corai&&(0,n.jsx)("div",{children:"No Pool"}))]}),(0,n.jsx)("div",{className:i().infoButton,onClick:M,"data-popup":J,children:(0,n.jsx)(c.kjE,{size:50,color:"#fcfcfc"})}),(0,n.jsx)("div",{className:i().infoPopUp,"data-popup":J,onClick:M,children:(0,n.jsx)("div",{className:i().tutorialContainer,children:(0,n.jsx)("img",{className:i().tutorialImage,src:"/assets/tutorial.png"})})})]})})};a.default=p}},function(e){e.O(0,[961,237,811,774,888,179],function(){return e(e.s=9704)}),_N_E=e.O()}]);